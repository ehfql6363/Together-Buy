# SSAFY 공통 프로젝트 1주차

## 🔖 Week 1 - Day 1 (2025.01.13 월요일)

아직 아이디어가 정해지지 않아 여러가지 아이디어를 생각 했다 동열이형의 여자친구분이 했던 온라인 경매장 시스템에 대해 아이디어가 나와 이런방식으로 진행할까 생각했다 하지만 이전의 수상했던 작품이므로 배재하였다.
일단 WebRTC기술이 들어가면 되는 아이디어를 구상하기로 정하여서 방향성을 잡은 것 같다
나는 첫 프로젝트이다보니 어떻게 진행해야할지 잘 몰라서 여러 프로젝트를 진행했던 팀장인 동열이형에게 많인 질문을 던졌다 프로젝트 진행방식과 백엔드 개발자가 알아야할 기본적인 로그인/회원가입 기능 DB설계 등 배우고싶은게 많았다.


---
## 🔖 Week 1 - Day 2 (2025.01.14 화요일)
WebRTC기술을 딥하게 들어가고 아이디어적으로 접근 보다는 우리는 기술적으로 접근을 하기로 하였다 너무 좋은 아이디어가 있다면 모르겠지만 아이디어는 배재하고 기술적으로만 접근 한 뒤 그 기술에 아이디어를 끼워 맞추는 식으로 진행하려 한다.
하지만 여러가지 Java언어의 이슈와 함께 Java로 라이브러리를 쓰지 않고 딥하게 하는 명분을 찾지 못해 포기하였고 컨설턴트님과의 미팅을 통해서 돈, 포인트, 마일리지와 같은 결제시스템쪽으로 방향이 정해졌다.
그러다 나온 아이디어는 공동 구매결제 시스템이다 처음에 내가 냈던 아파트 회원관리의 부가기능인 공동구매를 채택하여 공동구매가 주가 되는 사이트를 만드는 것이다 ex) 공동구매가 되며 지역 커뮤니티가 있는 쿠팡


### 핵심기능
**1. 공동 구매 / 분할 결제 시스템**<br>


**2. 커뮤니티 게시판 및 채팅 시스템**<br>


**3. 할인, 적립을 할 수 있는 멤버십 시스템**<br>


**4. 추천 시스템**<br>
![](https://velog.velcdn.com/images/ehfql6363/post/b1f2ee54-f1dc-4020-bc14-f5735fd05096/image.png)

![](https://velog.velcdn.com/images/ehfql6363/post/5dfdd2e4-2c75-46bb-b3ff-60e0a3b78414/image.png)

---
## 🔖 Week 1 - Day 3 (2025.01.15 수요일)
오늘은 판매자, 관리자 두 가지 시퀀스를 중심으로 팀원들과 함께 회의를 진행하며 프로젝트의 구체적인 흐름과 세부 사항을 설계하였다.

판매자 시퀀스에서는 판매자가 상품을 등록하고, 해당 상품의 상태를 확인하며 필요시 수정·삭제하는 과정을 상세히 정의하였다. 특히 상품 등록 시 사진 업로드, 카테고리 선택, 상품 설명 작성 등의 세부 기능과 사용자 경험을 고려한 인터페이스 구성 방안에 대해 논의하였다. 또한, 판매자가 구매자와의 소통을 원활하게 할 수 있도록 메시지 시스템 또는 알림 기능을 추가하는 방안도 검토되었다.

관리자 시퀀스에서는 플랫폼의 전체적인 관리와 운영 흐름을 다루었다. 상품 및 사용자 관리, 신고 접수 처리, 정책 위반 여부 판단 등 주요 기능을 중심으로 세부적인 작업 과정을 설계하였다.

이번 회의를 통해 두 시퀀스의 기본 흐름은 어느 정도 구체화되었으며, 앞으로 개발 과정에서 추가적으로 필요한 세부 기능들을 점진적으로 보완해 나갈 예정이다

**판매자 시퀀스**
![](https://velog.velcdn.com/images/ehfql6363/post/c0668a01-c886-4e0e-a046-e9f8c579106f/image.png)


**관리자 시퀀스**
![](https://velog.velcdn.com/images/ehfql6363/post/169aad2f-1862-406b-8293-02d76c1da6db/image.png)

---
## 🔖 Week 1 - Day 4 (2025.01.16 목요일)
FE는 와이어프레임을 BE는 핵심 기능을 구체적으로 어떻게 할것인지에 대한 회의를 진행하였다.다.

사용자 별 시퀀스를 토대로 텍스트로 UseCase를 만들었다
![](https://velog.velcdn.com/images/ehfql6363/post/7ec1727f-df37-4708-81af-32c10f58ccd6/image.png)

오후 13시 30분 부터 컨설턴트님, 코치님들과 팀 미팅을 진행했다
팀 미팅 때는 우리 서비스의 핵심 기능 중 결제 기능에 대한 조언을 구했다.
결제 시스템을 포트원와 같은 API를 가져다 쓰면 기술적으로 큰 메리트가 없다고 판단했다. 그래서 우리 서비스와 외부 API의 의존성을 줄이고자 노력했고, 의존성을 줄이는 시나리오 몇 가지 생각했다.

### 외부 API 의존성 줄이기
#### 결제는 포인트로
우리 서비스는 구매자가 공구에 참여할 때 선불로 결제를 해야 한다. 아이디어 초기에는 신용카드나 다른 간편 결제로 결제하도록 설계했는데, 이를 포인트 제도의 도입으로 사용자가 충전한 포인트로만 선불로 결제하도록 변경했다. 그 이유는 물리적인 외부 API의 사용을 줄이기 위함이었다. 외부 API의 서버에 장애가 생기는 것은 막을 수 없기 때문에, 포인트 제도를 설정하여 사용자의 결제 자체를 Lazy하게 처리하도록 설계했다.

정리하자면,

0. 사용자는 포인트가 충전되어 있음
1. 여러 사용자가 하나의 상품을 공구하기 위해 포인트로 선불 결제함.
2. 사용자 UI에는 포인트가 차감된 것으로 처리되지만, 실제로 돈이 빠져나가진 않음
3. 공구에 진행되면 사용자들의 현금을 가지고 있던 `서비스`가 실제 돈으로 거래를 대행함. (Lazy 처리)

이러한 방식으로 사용자가 외부 API의 사용 횟수를 줄여 의존성을 낮추었다.
하지만 포인트를 충전하는 과정에서는 불가피하게 외부 API를 사용해야 한다. 매 결제마다 외부 API를 사용하는 방식보단 사용 횟수를 줄일 수 있지만, 이러한 관계 마저도 의존성을 낮추고 싶었다.

그 방법으로 2가지 대안이 나왔다.
#### 1. 회원 가입 단계에서 유저의 인증 정보 수집하기
아직 가능한 방법인지 구체적으로 조사하지 않는 상태이지만, 시나리오는 이러하다.

1. 초기 사용자는 회원가입을 진행한다.
2. 회원 가입에는 여러 정보와 함께 결제에 필요한 인증 정보를 동의를 구한 후 입력 및 수집한다.(ex. 지문, 비밀번호 등)
3. 포인트 충전 시 해당 유저의 인증 정보를 대신 활용하여 외부 API의 인증 과정에 대신 처리한다.
4. 이러한 시나리오를 통해, 외부 API의 장애가 발생하여도 사용자게 포인트를 먼저 충전시킬 수 있다. 그리고 결제는 Lazy하게 처리하여 `서비스`에서 대신 결제를 진행한다.

#### 2. 포인트 충전 시 인증 정보를 일시적으로 보관하여 Lazy하게 처리한다.
이 방법은 위 방법과 동일하게 Lazy하게 처리하는 방법이다. 다만 다른 점이 있다면, 사용자 인증 정보를 저장하는 시점과 방식에 차이가 있다.

1. 사용자가 포인트 충전을 시도한다.
2. 외부 API의 장애가 발생한다.
3. 사용자는 지연 처리를 동의하고 사용자 인증 정보를 `서비스`에 일시적으로 제공한다.
4. 외부 API의 장애가 복구되면 사용자 인증 정보를 통해 대신 결제를 진행한다.
5. 사용자의 인증 정보를 폐기한다.


Jira 상황
![](https://velog.velcdn.com/images/ehfql6363/post/62834df7-d714-4221-8092-b063894200db/image.png)


---
# Use Case - Text
https://season-henley-4a8.notion.site/d1ef6602c34a40b0a68022a43f3c4888?pvs=4
